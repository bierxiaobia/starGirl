<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
	<title>蘑菇动起来-html5</title>  
	<!-- 要记得引用jquery-1.4.2.js -->

<script type="text/javascript" src="./js/jquery.js"></script>
<script type="text/javascript" >  
    //全局变量   
    var backgroundForestImg = new Image();//森林背景图   
    var mushroomImg = new Image();//蘑菇   
    var ctx;//2d画布   
    var screenWidth;//画布宽度   
    var screenHeight;//画布高度   
       
    //公用 定义一个游戏物体戏对象   
    function GameObject()   
    {   
        this.x = 0;   
        this.y = 0;   
        this.image = null;   
    }   
       
    //定义蘑菇Mushroom 继承游戏对象GameObject   
    function Mushroom() {};   
    Mushroom.prototype = new GameObject();//游戏对象GameObject   
       
    //蘑菇实例   
    var mushroom = new Mushroom();   
    //循环描绘物体   
    function gameLoop()   
    {   
        //清除屏幕   
        ctx.clearRect(0, 0, screenWidth, screenHeight);   
        ctx.save();   
        //绘制背景   
        ctx.drawImage(backgroundForestImg, 0, 0);   
        //绘制蘑菇   
        ctx.drawImage(mushroom.image, mushroom.x, mushroom.y);   
        ctx.restore();   
        }   
    //加载图片   
    function loadImages()   
    {   
        mushroomImg.src = "./img/mushroom.png";//蘑菇   
        backgroundForestImg.src = "./img/forest1.jpg";//森林背景图   
    }      
    //初始化   
    $(window).ready(function(){    
        loadImages();           
        ctx = document.getElementById('canvas').getContext('2d'); //获取2d画布      
        screenWidth = parseInt($("#canvas").attr("width")); //画布宽度 
        screenHeight = parseInt($("#canvas").attr("height"));   
        mushroom.image = mushroomImg;   
        mushroom.x = parseInt(screenWidth/2);// 蘑菇X坐标  
        mushroom.y = screenHeight - 40;//蘑菇Y坐标    
        setInterval(gameLoop, 10);   
    });   
 
  
</script>  
</head>  
  
<body>  
    <div id="container" style="border:1px solid; cursor:none; width:620px; height:469;">  
        <canvas id="canvas" width="620" height="469" >  
        </canvas>  
    </div>  
       </body>  
</html>
